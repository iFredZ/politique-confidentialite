<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title id="tab-title">Politique de confidentialit&eacute; - Code Scan</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      max-width: 850px;
      margin: 40px auto;
      padding: 0 20px;
      line-height: 1.7;
      color: #2c3e50;
      background-color: #f8f9fa;
    }
    .card {
      background: white;
      padding: 40px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }
    h1 { color: #0a8a3a; border-bottom: 2px solid #eef2f3; padding-bottom: 10px; font-size: 2.2em; }
    h2 { color: #2e7d32; margin-top: 1.5em; font-size: 1.5em; display: flex; align-items: center; }
    h2::before { content: '◈'; margin-right: 10px; font-size: 0.8em; opacity: 0.5; }
    ul { padding-left: 20px; }
    li { margin-bottom: 8px; }
    strong { color: #1b5e20; }
    .update { color: #7f8c8d; font-style: italic; margin-bottom: 30px; font-size: 0.9em; }
    .lang-switch { text-align: right; margin-bottom: 20px; }
    .lang-btn { 
      background: #eef2f3; border: 1px solid #ddd; padding: 5px 12px; border-radius: 4px; 
      cursor: pointer; font-size: 0.8em; transition: all 0.2s;
    }
    .lang-btn:hover { background: #0a8a3a; color: white; border-color: #0a8a3a; }
    @media (max-width: 600px) { body { margin: 10px auto; } .card { padding: 20px; } h1 { font-size: 1.6em; } }
  </style>
</head>
<body>
  <div class="lang-switch">
    <button class="lang-btn" onclick="setLanguage('fr')">Fran&ccedil;ais</button>
    <button class="lang-btn" onclick="setLanguage('en')">English</button>
  </div>
  
  <div class="card">
    <h1 id="title"></h1>
    <p class="update" id="update-date"></p>

    <h2 id="summary-h"></h2>
    <ul id="summary-list"></ul>

    <h2 id="data-h"></h2>
    <ul id="data-list"></ul>

    <h2 id="third-party-h"></h2>
    <ul id="third-party-list"></ul>

    <h2 id="storage-h"></h2>
    <div id="storage-content"></div>

    <h2 id="perms-h"></h2>
    <ul id="perms-list"></ul>

    <h2 id="kids-h"></h2>
    <p id="kids-content"></p>

    <h2 id="contact-h"></h2>
    <p id="contact-content"></p>
  </div>

  <script>
    const translations = {
      fr: {
        tabTitle: "Politique de confidentialit&eacute; - Code Scan",
        title: "Politique de confidentialit&eacute; - Code Scan",
        update: "Date de mise &agrave; jour: 10 Janvier 2026 (v0.1.1)",
        summaryH: "R&eacute;sum&eacute;",
        summaryList: [
          "Pas de compte utilisateur.",
          "Traitement local sur l'appareil pour le scan.",
          "Donn&eacute;es stock&eacute;es localement : historique, favoris, notes, pr&eacute;f&eacute;rences.",
          "Pas de serveur d'application, pas de collecte publicitaire.",
          "Analyse de produits via services tiers (Open Food Facts).",
          "Partage uniquement si vous l'initiez."
        ],
        dataH: "Donn&eacute;es trait&eacute;es",
        dataList: [
          "<strong>Cam&eacute;ra</strong> : le flux vid&eacute;o est utilis&eacute; pour d&eacute;tecter les codes-barres. Pas de stockage d'images.",
          "<strong>Historique</strong> : codes, type, date, notes et projet.",
          "<strong>Donn&eacute;es Sensibles</strong> : WiFi, GPS et Contacts sont stock&eacute;s localement pour votre usage uniquement.",
          "<strong>Bluetooth</strong> : envoi des codes au PC comme une saisie clavier (HID).",
          "<strong>Presse-papiers</strong> : copie automatique ou manuelle selon vos r&eacute;glages."
        ],
        thirdPartyH: "Services Tiers",
        thirdPartyList: [
          "<strong>Analyse produits</strong> : interrogation de Open Food Facts et Open Beauty Facts. Seul le code-barres est transmis, sans donn&eacute;e personnelle.",
          "<strong>ML Kit (Google)</strong> : reconnaissance locale des codes sur l'appareil."
        ],
        storageH: "Stockage et S&eacute;curit&eacute;",
        storageContent: "<p>Toutes les donn&eacute;es sont stock&eacute;es <strong>exclusivement localement</strong>. La sauvegarde cloud Android est d&eacute;sactiv&eacute;e pour prot&eacute;ger vos donn&eacute;es sensibles.</p><p>Vous pouvez tout supprimer dans les param&egrave;tres de l'application.</p>",
        permsH: "Permissions",
        permsList: ["Cam&eacute;ra (Scan)", "Bluetooth (PC Link)", "Vibration (Feedback)"],
        kidsH: "Enfants",
        kidsContent: "L'application n'est pas con&ccedil;ue pour les moins de 13 ans.",
        contactH: "Contact",
        contactContent: "Pour toute question : <strong>finjalrac@gmail.com</strong>"
      },
      en: {
        tabTitle: "Privacy Policy - Code Scan",
        title: "Privacy Policy - Code Scan",
        update: "Last updated: January 10, 2026 (v0.1.1)",
        summaryH: "Summary",
        summaryList: [
          "No user account.",
          "Local on-device processing for scanning.",
          "Locally stored data: history, favorites, notes, preferences.",
          "No app server, no advertising collection.",
          "Product analysis via third-party services (Open Food Facts).",
          "Sharing only when initiated by you."
        ],
        dataH: "Processed Data",
        dataList: [
          "<strong>Camera</strong>: video stream is used to detect barcodes. No images are stored.",
          "<strong>History</strong>: codes, type, date, notes, and projects.",
          "<strong>Sensitive Data</strong>: WiFi, GPS, and Contacts are stored locally for your use only.",
          "<strong>Bluetooth</strong>: sends codes to PC as keyboard input (HID).",
          "<strong>Clipboard</strong>: automatic or manual copy based on your settings."
        ],
        thirdPartyH: "Third-party Services",
        thirdPartyList: [
          "<strong>Product Analysis</strong>: queries Open Food Facts and Open Beauty Facts. Only the barcode is sent, no personal data.",
          "<strong>ML Kit (Google)</strong>: local barcode recognition on your device."
        ],
        storageH: "Storage and Security",
        storageContent: "<p>All data is stored <strong>exclusively locally</strong>. Android Cloud Backup is disabled to protect your sensitive information.</p><p>You can delete all data anytime in the app settings.</p>",
        permsH: "Permissions",
        permsList: ["Camera (Scanning)", "Bluetooth (PC Link)", "Vibration (Feedback)"],
        kidsH: "Children",
        kidsContent: "This app is not designed for children under 13.",
        contactH: "Contact",
        contactContent: "For any privacy questions: <strong>finjalrac@gmail.com</strong>"
      }
    };

    function setLanguage(lang) {
      const t = translations[lang];
      document.getElementById('tab-title').innerHTML = t.tabTitle;
      document.getElementById('title').innerHTML = t.title;
      document.getElementById('update-date').innerHTML = t.update;
      document.getElementById('summary-h').innerHTML = t.summaryH;
      document.getElementById('data-h').innerHTML = t.dataH;
      document.getElementById('third-party-h').innerHTML = t.thirdPartyH;
      document.getElementById('storage-h').innerHTML = t.storageH;
      document.getElementById('perms-h').innerHTML = t.permsH;
      document.getElementById('kids-h').innerHTML = t.kidsH;
      document.getElementById('contact-h').innerHTML = t.contactH;
      
      document.getElementById('kids-content').innerHTML = t.kidsContent;
      document.getElementById('contact-content').innerHTML = t.contactContent;
      document.getElementById('storage-content').innerHTML = t.storageContent;

      const fillList = (id, list) => {
        const el = document.getElementById(id);
        el.innerHTML = '';
        list.forEach(item => {
          const li = document.createElement('li');
          li.innerHTML = item;
          el.appendChild(li);
        });
      };

      fillList('summary-list', t.summaryList);
      fillList('data-list', t.dataList);
      fillList('third-party-list', t.thirdPartyList);
      fillList('perms-list', t.permsList);
      
      document.documentElement.lang = lang;
    }

    // Auto-detect browser language
    const userLang = navigator.language.substring(0, 2);
    setLanguage(translations[userLang] ? userLang : 'en');
  </script>
</body>
</html>
